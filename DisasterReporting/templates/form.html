{% extends "base.html" %}

<!DOCTYPE html>
{% block body %}
<div id="content1">
<form action="/form/" method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Submit" />
</form>
<script type="text/javascript">

    function check_mortgage(){
        var text=$('#id_insured').find(":selected").text();
        var occupancy=$('#id_type_of_occupancy').find(":selected").text();
        if(occupancy!=='Own as primary residence'){
            $('#id_mortgage').parent().hide();
            $('#id_owned_less_than_30_years').parent().hide();
        }
        if(text==='Yes'||text==='No'||text===''){
            $('#id_mortgage').parent().hide();
            $('#id_owned_less_than_30_years').parent().hide();
        }else{
            $('#id_mortgage').parent().show();
            check_30_years();
        }
    }
     function check_30_years() {
        var text=$('#id_mortgage').find(":selected").text();
        var insured=$('#id_insured').find(":selected").text();
        var occupancy=$('#id_type_of_occupancy').find(":selected").text();
        if(occupancy!=='Own as primary residence'){
            $('#id_owned_less_than_30_years').parent().hide();
        }
        if(insured!=='Unsure'){
            $('#id_owned_less_than_30_years').parent().hide();
        }
        if(text==='Yes'||text==='No'||text===''){
            $('#id_owned_less_than_30_years').parent().hide();
        }else{
            $('#id_owned_less_than_30_years').parent().show();
        }
    }
    function check_residence(){
        var text=$('#id_type_of_residence').find(":selected").text();
         if(text==='Single Family'||text==='Multi-Family'){
            $('[id^=id_manufactured]').parent().hide();
            $('[id^=id_normal]').parent().show();
         }else if(text==='Manufactured Housing Unit'){
            $('[id^=id_manufactured]').parent().show();
            $('[id^=id_normal]').parent().hide();
         }else{
            $('[id^=id_manufactured]').parent().hide();
            $('[id^=id_normal]').parent().hide();
         }
    }
    $( document ).ready(function() {
            check_mortgage()
            check_30_years()
            check_residence()
    });
     $('#id_type_of_occupancy').change(function () {
        var text=$( this ).find(":selected").text();
         if(text==='Own as primary residence'){
             check_mortgage();
         }else{
            $('#id_mortgage').parent().hide();
            $('#id_owned_less_than_30_years').parent().hide();
         }
     })
    $('#id_insured').change(function () {
        check_mortgage();
    });
    $('#id_mortgage').change(function () {
        check_30_years();
    });
    $('#id_type_of_residence').change(function () {
        check_residence();
    })
</script>
</div>
<style>
#content1{
    margin: 6% auto auto auto;
    width: 40%;
}
</style>
{% endblock %}
</html>